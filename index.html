<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Click Quest - Catch the Button!</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Fredoka', sans-serif;
      min-height: 100vh;
      background: linear-gradient(135deg, #1a0a2e 0%, #2d1b4e 50%, #1a0a2e 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow: hidden;
      color: #fff;
      cursor: default;
    }

    .header {
      text-align: center;
      padding: 1.5rem;
      z-index: 1;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, #ff6b9d, #c44569);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .counter {
      font-size: 1.5rem;
      opacity: 0.9;
    }

    .counter span {
      color: #ff6b9d;
      font-weight: 600;
    }

    .counter-secret {
      cursor: default;
      user-select: none;
    }

    .main-btn {
      font-family: 'Fredoka', sans-serif;
      font-size: 1.5rem;
      padding: 1rem 2.5rem;
      background: linear-gradient(145deg, #ff6b9d, #c44569);
      border: none;
      border-radius: 50px;
      color: white;
      cursor: pointer;
      box-shadow: 0 8px 30px rgba(255, 107, 157, 0.4);
      position: fixed;
      z-index: 10;
      transition: opacity 0.3s ease;
    }

    .main-btn:hover {
      box-shadow: 0 12px 40px rgba(255, 107, 157, 0.6);
    }

    .main-btn:active {
      transform: scale(0.98);
    }

    .main-btn.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .result {
      display: none;
      margin-top: 2rem;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(10px);
      text-align: center;
      z-index: 5;
    }

    .result.show {
      display: block;
      animation: fadeIn 0.5s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .result a {
      display: inline-block;
      margin-top: 1rem;
      padding: 1rem 2rem;
      background: linear-gradient(145deg, #6bcb77, #4d96ff);
      color: white;
      text-decoration: none;
      border-radius: 50px;
      font-size: 1.2rem;
      transition: transform 0.2s;
    }

    .result a:hover {
      transform: scale(1.05);
    }

    .hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .heart {
      position: absolute;
      font-size: 20px;
      opacity: 0.2;
      animation: float 6s infinite ease-in-out;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.2;
      }
      90% {
        opacity: 0.2;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="header">
    <h1>üíï Click Quest üíï</h1>
    <p class="counter"><span class="counter-secret" id="secretClick">Clicks</span>: <span id="count">0</span> / 20</p>
  </div>

  <button class="main-btn" id="mainBtn">Click me</button>

  <div class="result" id="result">
    <p>üéâ You caught it 20 times! Your reward awaits:</p>
    <a href="https://xal3xand3r.github.io/cupid-quest/" target="_blank">Open Cupid Quest ‚Üí</a>
  </div>

  <script>
    const TARGET_CLICKS = 20;
    const MAIN_BTN = document.getElementById('mainBtn');
    const COUNT_DISPLAY = document.getElementById('count');
    const RESULT = document.getElementById('result');

    let clickCount = 0;
    let mouseX = 0;
    let mouseY = 0;
    let btnX = 0;
    let btnY = 0;
    let isHidden = false;
    let hideTimeout;
    let animationId;

    const MOVE_SPEED = 8;
    const RUN_DISTANCE = 150;
    const PADDING = 100;
    const HIDE_CHANCE = 0.02;
    const HIDE_DURATION = 600;

    function getRandomPosition() {
      return {
        x: PADDING + Math.random() * (window.innerWidth - PADDING * 2),
        y: PADDING + Math.random() * (window.innerHeight - PADDING * 2)
      };
    }

    function placeButton() {
      const pos = getRandomPosition();
      btnX = pos.x;
      btnY = pos.y;
      MAIN_BTN.style.left = (btnX - MAIN_BTN.offsetWidth / 2) + 'px';
      MAIN_BTN.style.top = (btnY - MAIN_BTN.offsetHeight / 2) + 'px';
    }

    function updateCounter() {
      COUNT_DISPLAY.textContent = clickCount;
    }

    function hideButton() {
      if (isHidden || clickCount >= TARGET_CLICKS) return;
      isHidden = true;
      MAIN_BTN.classList.add('hidden');

      clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => {
        placeButton();
        MAIN_BTN.classList.remove('hidden');
        isHidden = false;
      }, HIDE_DURATION);
    }

    function moveButton() {
      if (clickCount >= TARGET_CLICKS || isHidden) {
        animationId = requestAnimationFrame(moveButton);
        return;
      }

      const btnRect = MAIN_BTN.getBoundingClientRect();
      const btnCenterX = btnRect.left + btnRect.width / 2;
      const btnCenterY = btnRect.top + btnRect.height / 2;

      const dx = mouseX - btnCenterX;
      const dy = mouseY - btnCenterY;
      const distance = Math.sqrt(dx * dx + dy * dy);

      if (distance < RUN_DISTANCE && distance > 5) {
        const angle = Math.atan2(dy, dx);
        const moveX = -Math.cos(angle) * MOVE_SPEED;
        const moveY = -Math.sin(angle) * MOVE_SPEED;

        let newLeft = btnRect.left + moveX;
        let newTop = btnRect.top + moveY;

        newLeft = Math.max(10, Math.min(window.innerWidth - btnRect.width - 10, newLeft));
        newTop = Math.max(10, Math.min(window.innerHeight - btnRect.height - 10, newTop));

        MAIN_BTN.style.left = newLeft + 'px';
        MAIN_BTN.style.top = newTop + 'px';
      }

      if (Math.random() < HIDE_CHANCE) {
        hideButton();
      }

      animationId = requestAnimationFrame(moveButton);
    }

    function addClick(e) {
      e.preventDefault();
      e.stopPropagation();

      clickCount++;
      updateCounter();

      if (clickCount >= TARGET_CLICKS) {
        MAIN_BTN.style.display = 'none';
        document.querySelector('.counter').style.display = 'none';
        RESULT.classList.add('show');
        cancelAnimationFrame(animationId);
        clearTimeout(hideTimeout);
      }
    }

    function onButtonClick(e) {
      e.preventDefault();
      e.stopPropagation();

      if (isHidden) return;

      addClick(e);
      if (clickCount < TARGET_CLICKS) {
        hideButton();
      }
    }

    function onSecretClick(e) {
      e.preventDefault();
      e.stopPropagation();
      addClick(e);
    }

    MAIN_BTN.addEventListener('click', onButtonClick);
    document.getElementById('secretClick').addEventListener('click', onSecretClick);

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    placeButton();
    animationId = requestAnimationFrame(moveButton);

    function createHearts() {
      const heartsContainer = document.getElementById('hearts');
      const hearts = ['‚ù§Ô∏è', 'üíï', 'üíó', 'üíñ'];
      for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDelay = Math.random() * 6 + 's';
        heartsContainer.appendChild(heart);
      }
    }
    createHearts();
  </script>
</body>
</html>
